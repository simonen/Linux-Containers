### Debian ###

# Download a rootfs

wget https://dl-cdn.alpinelinux.org/alpine/latest-stable/releases/x86_64/alpine-minirootfs-3.22.0-x86_64.tar.gz

tar -zxf alpine-minirootfs-3.22.0-x86_64.tar.gz -C rootfs/

# Create and enter the new namespace and map the user to the existing

unshare --mount --uts --ipc --net --pid --fork --user --map-root-user /bin/bash

# Change the container root to rootfs/

chroot /root/rootfs /bin/sh

# Mount the procfs

mount -t proc proc /proc
mount -t sysfs sysfs /sys

# Test the new environment

ls ; ps

# PID   USER     TIME  COMMAND
#    1 root      0:00 /bin/bash
#    3 root      0:00 /bin/sh
#   12 root      0:00 ps
