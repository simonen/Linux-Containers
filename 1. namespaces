### Debian ###

# Download a rootfs

wget https://dl-cdn.alpinelinux.org/alpine/latest-stable/releases/x86_64/alpine-minirootfs-3.22.0-x86_64.tar.gz

tar -zxf alpine-minirootfs-3.22.0-x86_64.tar.gz -C rootfs/

# Create the namespace in a one-liner

sudo unshare --mount --uts --ipc --net --pid --fork --user --map-root-user --mount-proc=root/rootfs/proc \
    chroot /root/rootfs /bin/sh -c "
    mount -t proc proc /proc
    mount -t sysfs sysfs /sys
    mount -t tmpfs tmpfs /tmp
    hostname my-container
    export PS1='[container] \\w \\$ '
    exec /bin/sh
"